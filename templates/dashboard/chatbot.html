{% extends "base.html" %}

{% block title %}Kadosh.ia - Assistant Biblique{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto space-y-8">
    <!-- Header -->
    <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6">
        <div class="flex items-center">
            <div class="w-16 h-16 rounded-full flex items-center justify-center mr-4">
                <img src="{{ url_for('static', filename='images/kadosh_logo.png') }}" alt="Kadosh.ia Logo" class="w-16 h-16 rounded-full object-contain">
            </div>
            <div>
                <h1 class="text-2xl font-bold text-gray-900 dark:text-white">Kadosh.ia</h1>
                <p class="text-gray-600 dark:text-gray-400">Votre assistant biblique intelligent</p>
            </div>
        </div>
    </div>

    <!-- Main Chat Interface -->
    <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">
        <!-- Chat Area -->
        <div class="lg:col-span-3">
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md h-96 lg:h-[600px] flex flex-col">
                <!-- Chat Header -->
                <div class="bg-green-600 text-white p-4 rounded-t-lg">
                    <div class="flex items-center">
                        <img src="{{ url_for('static', filename='images/kadosh_logo.png') }}" alt="Kadosh.ia Logo" class="w-8 h-8 rounded-full object-contain mr-3">
                        <div>
                            <h3 class="font-semibold">Kadosh.ia</h3>
                            <p class="text-sm text-green-100">Assistant biblique en ligne</p>
                        </div>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50 dark:bg-gray-700">
                    <!-- Welcome Message -->
                    <div class="flex items-start space-x-3">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center">
                            <img src="{{ url_for('static', filename='images/kadosh_logo.png') }}" alt="Kadosh.ia Logo" class="w-8 h-8 rounded-full object-contain">
                        </div>
                        <div class="bg-white dark:bg-gray-800 rounded-lg p-3 max-w-md">
                            <p class="text-gray-900 dark:text-white">
                                üôè Shalom! Je suis Kadosh.ia, votre assistant biblique. Je peux vous aider avec:
                            </p>
                            <ul class="text-sm text-gray-700 dark:text-gray-300 mt-2 space-y-1">
                                <li>‚Ä¢ Questions bibliques avec versets et explications</li>
                                <li>‚Ä¢ 50 sujets spirituels pr√©d√©finis</li>
                                <li>‚Ä¢ Aide sur l'utilisation de l'application</li>
                            </ul>
                            <p class="text-sm text-gray-600 dark:text-gray-400 mt-2">
                                Posez-moi votre question ou explorez les sujets disponibles!
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Input Area -->
                <div class="p-4 bg-white dark:bg-gray-800 rounded-b-lg border-t border-gray-200 dark:border-gray-700">
                    <div class="flex space-x-3">
                        <input type="text" id="chat-input" placeholder="Posez votre question biblique..."
                               class="flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg 
                                      bg-white dark:bg-gray-700 text-gray-900 dark:text-white
                                      focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-colors">
                        <button id="send-btn" 
                                class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg 
                                       transition-colors focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sidebar -->
        <div class="space-y-6">
            <!-- Quick Topics -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="font-semibold text-gray-900 dark:text-white mb-4">Sujets populaires</h3>
                <div class="mb-4">
                    <select id="topic-dropdown" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-green-500 focus:border-green-500">
                        <option value="">Choisissez un sujet...</option>
                        <!-- Topics will be loaded dynamically -->
                    </select>
                    <button id="explore-btn" class="w-full mt-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                        <i class="fas fa-compass mr-2"></i>
                        Explorer le sujet
                    </button>
                        <option value="courage">Courage</option>
                        <option value="confiance">Confiance</option>
                        <option value="compassion">Compassion</option>
                        <option value="ob√©issance">Ob√©issance</option>
                        <option value="r√©surrection">R√©surrection</option>
                        <option value="salut">Salut</option>
                        <option value="gr√¢ce">Gr√¢ce</option>
                        <option value="saintet√©">Saintet√©</option>
                        <option value="servitude">Servitude</option>
                        <option value="t√©moignage">T√©moignage</option>
                        <option value="transformation">Transformation</option>
                        <option value="unit√©">Unit√©</option>
                        <option value="v√©rit√©">V√©rit√©</option>
                        <option value="libert√©">Libert√©</option>
                        <option value="famille">Famille</option>
                        <option value="mariage">Mariage</option>
                        <option value="enfants">Enfants</option>
                        <option value="travail">Travail</option>
                        <option value="argent">Argent</option>
                        <option value="√©preuve">√âpreuve</option>
                        <option value="consolation">Consolation</option>
                        <option value="victoire">Victoire</option>
                        <option value="pers√©v√©rance">Pers√©v√©rance</option>
                        <option value="direction">Direction</option>
                        <option value="promesses">Promesses</option>
                        <option value="protection">Protection</option>
                        <option value="provision">Provision</option>
                        <option value="repos">Repos</option>
                        <option value="renouveau">Renouveau</option>
                        <option value="r√©veil">R√©veil</option>
                        <option value="communion">Communion</option>
                        <option value="adoration">Adoration</option>
                        <option value="louange">Louange</option>
                        <option value="intercession">Intercession</option>
                        <option value="je√ªne">Je√ªne</option>
                        <option value="discipline">Discipline</option>
                        <option value="discernement">Discernement</option>
                        <option value="autorit√©">Autorit√©</option>
                        <option value="royaume">Royaume</option>
                    </select>
                </div>
                <button onclick="askSelectedTopic()" class="w-full bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg transition-colors">
                    <i class="fas fa-search mr-2"></i>Explorer le sujet
                </button>
            </div>

            <!-- App Help -->
            <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
                <h3 class="font-semibold text-gray-900 dark:text-white mb-4">Aide sur l'app</h3>
                <div class="space-y-2">
                    <button onclick="askHelp('Comment utiliser la playlist?')" class="w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                        <i class="fas fa-music mr-2 text-orange-500"></i>Playlist
                    </button>
                    <button onclick="askHelp('Comment soumettre un t√©moignage?')" class="w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                        <i class="fas fa-heart mr-2 text-purple-500"></i>T√©moignages
                    </button>
                    <button onclick="askHelp('Comment modifier mon profil?')" class="w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                        <i class="fas fa-user mr-2 text-blue-500"></i>Profil
                    </button>
                    <button onclick="askHelp('Comment voir mes finances?')" class="w-full text-left px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors">
                        <i class="fas fa-dollar-sign mr-2 text-green-500"></i>Finances
                    </button>
                </div>
            </div>

            <!-- Features -->
            <div class="bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4 border border-blue-200 dark:border-blue-800">
                <h3 class="font-semibold text-blue-800 dark:text-blue-200 mb-3">
                    <i class="fas fa-sparkles mr-2"></i>Fonctionnalit√©s
                </h3>
                <ul class="text-sm text-blue-700 dark:text-blue-300 space-y-1">
                    <li>‚Ä¢ 50 sujets bibliques pr√©d√©finis</li>
                    <li>‚Ä¢ Versets avec interpr√©tations</li>
                    <li>‚Ä¢ Aide sur l'application</li>
                    <li>‚Ä¢ Intelligence artificielle</li>
                </ul>
            </div>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
{% endblock %}
